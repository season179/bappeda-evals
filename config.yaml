# RAG Evaluation Configuration
# =============================

# OpenRouter API Configuration
api:
  base_url: "https://openrouter.ai/api/v1"
  # API key should be set in .env file as OPENROUTER_API_KEY

# LLM Configuration (Generator)
llm:
  model: "x-ai/grok-code-fast-1"
  temperature: 0.7
  max_tokens: null  # null = model default

# Embeddings Configuration
embeddings:
  # IMPORTANT: Must use qwen/qwen3-embedding-8b per user requirement
  model: "qwen/qwen3-embedding-8b"

# Knowledge Base Configuration
knowledge_base:
  directory: "./knowledge-files"
  glob_pattern: "**/*.md"
  # File extensions to include
  extensions:
    - ".md"
    - ".txt"

# Testset Generation Configuration
generation:
  # Number of samples to generate
  test_size: 100

  # Query distribution (must sum to 1.0)
  distribution:
    single_hop: 0.40          # Simple queries
    multi_hop_abstract: 0.35  # Reasoning queries
    multi_hop_specific: 0.25  # Multi-context queries

# Output Configuration
output:
  partial_file: "testset_partial.csv"
  final_file: "testset_final.csv"
  backup_enabled: true

# Checkpointing Configuration
checkpoint:
  enabled: true
  file: "checkpoint.json"
  # Save checkpoint after every N samples
  save_every_n_samples: 10
  # Save checkpoint after each document
  save_every_document: true

# Progress Tracking Configuration
progress:
  enabled: true
  file: "progress_summary.json"
  # Update progress file every N seconds
  update_interval: 30

# Logging Configuration
logging:
  directory: "logs"
  # Console log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  console_level: "INFO"
  # File log level
  file_level: "DEBUG"
  # Enable separate API call log
  api_log_enabled: true
  # Enable separate error log
  error_log_enabled: true

# Error Handling Configuration
error_handling:
  # Maximum number of retries for transient errors
  max_retries: 3
  # Initial retry delay in seconds
  initial_delay: 5.0
  # Exponential backoff factor
  backoff_factor: 2.0
  # Maximum delay between retries in seconds
  max_delay: 60.0
  # Whether to skip failed documents and continue
  skip_failed_documents: false

# Test Mode Configuration
test_mode:
  # Number of documents to use in test mode (0 = use first document)
  document_limit: 1
  # Number of samples to generate in test mode
  sample_limit: 5

# API Validation Configuration
validation:
  # Run pre-flight API validation before generation
  enabled: true
  # Fail fast on validation errors
  fail_fast: true
